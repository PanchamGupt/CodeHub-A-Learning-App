{"version":3,"sources":["./src/app/login/login.page.html","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.scss","./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <!-- <ion-buttons slot=\\\"start\\\">\\n\\n      <h6>\\n        <ion-icon name=\\\"chevron-back-outline\\\" (click)=\\\"goBack()\\\"></ion-icon>\\n      </h6>\\n    </ion-buttons> -->\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding class=\\\"background\\\">\\n  \\n\\n    <!-- <ion-card-header>\\n      Card Header\\n    </ion-card-header> -->\\n    <br/>\\n    <ion-grid>\\n      <ion-row justify-content-around>\\n        <ion-col>\\n    \\n        </ion-col>\\n        <ion-col>\\n          <ion-icon  color=\\\"primary\\\" name=\\\"person-circle-sharp\\\" style=\\\"zoom:5.0;\\\" ></ion-icon>\\n    \\n        </ion-col>\\n        <ion-col>\\n          \\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-card-content style=\\\"text-align: center;\\\" >\\n      <form  [formGroup]=\\\"userLogin\\\" (ngSubmit)=\\\"loginData()\\\" >\\n        <ion-item color=\\\"none\\\" >\\n          <ion-label position=\\\"floating\\\">Email</ion-label>\\n          <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n        </ion-item>\\n      \\n\\n      <ion-item color=\\\"none\\\">\\n        <ion-label position=\\\"floating\\\">Password</ion-label>\\n        <ion-input type=\\\"password\\\" formControlName=\\\"password\\\" required></ion-input>\\n      </ion-item>\\n\\n      <br/>\\n      <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\"  shape=\\\"round\\\" [disabled]=\\\"!userLogin.valid\\\">Log IN<ion-icon name=\\\"log-in\\\"></ion-icon></ion-button>\\n      <br/><br/>\\n       Not registered? <a [routerLink]='[\\\"/register\\\"]' >Register Now</a><br/><br/>\\n      Password not remember? <a [routerLink]='[\\\"/login\\\"]' (click)=\\\"recoverPassword()\\\">Recover Password</a>\\n      </form>\\n      \\n      <!-- <div class=\\\"row\\\">\\n        <div class=\\\"col\\\">______________</div>\\n        <div class=\\\"col-auto\\\">OR</div>\\n        <div class=\\\"col\\\"><hr></div>\\n    </div> -->\\n\\n    <!-- <ion-grid>\\n      <ion-row>\\n        <ion-col></ion-col>or<ion-col><hr></ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n  \\n      <ion-button  color=\\\"danger\\\"  expand=\\\"full\\\">Log In with &nbsp; <ion-icon name=\\\"logo-google\\\"></ion-icon> </ion-button>\\n       <ion-button  color=\\\"primary\\\" expand=\\\"full\\\">Log In with &nbsp; <ion-icon name=\\\"logo-facebook\\\"></ion-icon> </ion-button> -->\\n    </ion-card-content> \\n\\n  \\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n// import { FormsModule } from '@angular/forms';\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"error-message {\\n  color: var(--ion-color-danger);\\n}\\n\\nion-content.background {\\n  --background: url('login.png') 0 0/100% 100% no-repeat;\\n  text-align: center;\\n}\\n\\nion-card-content {\\n  margin-top: -35px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYW5jaGFta3VtYXJndXB0L0ZyYW1ld29yay9jb2RlaHViLWlvbmljL3NyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSw4QkFBQTtBQ0NKOztBRElBO0VBQ0ksc0RBQUE7RUFDQSxrQkFBQTtBQ0RKOztBRElBO0VBQ0EsaUJBQUE7QUNEQSIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImVycm9yLW1lc3NhZ2V7XG4gICAgY29sb3I6dmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG59XG5cblxuXG5pb24tY29udGVudC5iYWNrZ3JvdW5ke1xuICAgIC0tYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy9pbWFnZXMvbG9naW4ucG5nKSAwIDAvMTAwJSAxMDAlIG5vLXJlcGVhdDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmlvbi1jYXJkLWNvbnRlbnR7XG5tYXJnaW4tdG9wOiAtMzVweDtcbn1cbiIsImVycm9yLW1lc3NhZ2Uge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG59XG5cbmlvbi1jb250ZW50LmJhY2tncm91bmQge1xuICAtLWJhY2tncm91bmQ6IHVybCguLi8uLi9hc3NldHMvaW1hZ2VzL2xvZ2luLnBuZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWNhcmQtY29udGVudCB7XG4gIG1hcmdpbi10b3A6IC0zNXB4O1xufSJdfQ== */\"","import { Component, OnInit } from \"@angular/core\";\nimport { Location } from \"@angular/common\";\n\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\n\nimport { AlertController } from \"@ionic/angular\";\n\nimport { Storage } from \"@ionic/storage\";\nimport { FirebaseDataService } from \"../services/firebase-data.service\";\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.page.html\",\n  styleUrls: [\"./login.page.scss\"],\n})\nexport class LoginPage implements OnInit {\n  userLogin: FormGroup;\n  user: any;\n  allet;\n  constructor(\n    private storage: Storage,\n    private location: Location,\n    private formBuilder: FormBuilder,\n    public router: Router,\n    private afAuth: AngularFireAuth,\n    private fds: FirebaseDataService,\n   \n    private alertCtrl: AlertController\n  ) {\n    this.userLogin = this.formBuilder.group({\n      email: [\n        \"\",\n        [\n          Validators.required,\n          Validators.pattern(\n            \"^[a-zA-Z0-9_.]+@[a-zA-Z0-9]{2,}.[a-zA-Z0-9]{2,3}$\"\n          ),\n        ],\n        // Validators.compose([\n        //   Validators.required,\n        // Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')])\n      ],\n      password: [\"\", [Validators.required, Validators.minLength(6)]],\n    });\n  }\n\n  ngOnInit() {}\n\n  loginData() {\n  \n    this.afAuth.auth\n      .signInWithEmailAndPassword(\n        this.userLogin.value.email,\n        this.userLogin.value.password\n      )\n      .then((res) => {\n        if (res.user) {\n          console.log(this.afAuth.auth)\n          if (this.afAuth.auth.currentUser.emailVerified) {\n\n            console.log(this.userLogin.value)\n            this.storage.set(\"currentUser\", this.userLogin.value.email);\n            this.fds.login(this.userLogin.value.email)\n            this.router.navigate([\"tabs/tab/categories\"]);\n            this.userLogin.reset();\n            \n          } else {\n            this.afAuth.auth.currentUser.sendEmailVerification().then(() => {\n              this.alertAll(\n                \"Email not verified\",\n                \"Visit your email for email verification\"\n              );\n              this.router.navigate([\"/login\"]);\n            });\n            this.userLogin.reset();\n          }\n        }\n      })\n      .catch((err) => {\n        console.log(\"user not \", err.message);\n        this.alertAll(\"Login failed!\", err.message);\n      });\n\n   \n\n    \n  }\n\n  //alert\n\n  async alertAll(header: string, message: string) {\n    this.allet = await this.alertCtrl.create({\n      header: header,\n      message: message,\n      buttons: [\"Ok\"],\n    });\n    await this.allet.present();\n  }\n\n  \n\n\n\n\n\n  //  Recover Password\n\n  async recoverPassword() {\n    let alert =await this.alertCtrl.create({\n      header: 'Recover Password',\n      inputs: [\n        {\n          name: 'email',\n          type:'email',\n          placeholder: 'Enter your email'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Recover Password',\n          handler: data => {\n            this.afAuth.auth\n            .sendPasswordResetEmail(data.email)\n            .then((data) => {\n              this.alertAll(\"Reset password\", \"Visit your email to recover codeHub password.\");\n      \n            })\n            .catch((err) => {\n             \n              this.alertAll(\"failed!\", err.message);\n              \n            });\n            \n      \n          }\n        }\n      ]\n    });\n   alert.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}